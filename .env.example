# ═══════════════════════════════════════════════════════════════════════════
# DocBrain Configuration
# Copy this to .env and fill in your values: cp .env.example .env
# Or run: ./scripts/setup.sh
# ═══════════════════════════════════════════════════════════════════════════

# ── Infrastructure ────────────────────────────────────────────────────────
POSTGRES_USER=docbrain
POSTGRES_PASSWORD=change-me-in-production
POSTGRES_DB=docbrain

OPENSEARCH_URL=http://opensearch:9200
REDIS_URL=redis://redis:6379

# ── LLM Provider (choose one: bedrock | anthropic | openai | ollama) ─────
#
# OPTION A: AWS Bedrock (recommended for teams on AWS — uses existing credentials)
#   Requires: AWS credentials (env vars, ~/.aws/credentials, or instance profile)
#   Enable models in: https://console.aws.amazon.com/bedrock/home#/modelaccess
#
LLM_PROVIDER=bedrock
LLM_MODEL_ID=us.anthropic.claude-sonnet-4-5-20250929-v1:0
EMBED_PROVIDER=bedrock
EMBED_MODEL_ID=cohere.embed-v4:0
AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=              # Optional — uses default credential chain if unset
# AWS_SECRET_ACCESS_KEY=
#
# OPTION B: Anthropic + OpenAI (best quality)
#   Requires: ANTHROPIC_API_KEY + OPENAI_API_KEY
#
# LLM_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-ant-...
# LLM_MODEL_ID=claude-sonnet-4-5-20250929
# EMBED_PROVIDER=openai
# OPENAI_API_KEY=sk-...
# EMBED_MODEL_ID=text-embedding-3-small
#
# OPTION C: OpenAI only (single API key)
#   Requires: OPENAI_API_KEY
#
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-...
# LLM_MODEL_ID=gpt-4o
# EMBED_PROVIDER=openai
# EMBED_MODEL_ID=text-embedding-3-small
#
# OPTION D: 100% Local with Ollama (no API keys, no data leaves your machine)
#   Requires: Ollama running locally (ollama pull llama3.1 && ollama pull nomic-embed-text)
#
# LLM_PROVIDER=ollama
# OLLAMA_BASE_URL=http://host.docker.internal:11434
# LLM_MODEL_ID=llama3.1
# EMBED_PROVIDER=ollama
# EMBED_MODEL_ID=nomic-embed-text
# OLLAMA_TLS_VERIFY=false          # Set to true to enforce TLS certificate validation

# ── Document Source (choose one: local | confluence | github) ────────────
SOURCE_TYPE=local
LOCAL_DOCS_PATH=/data/docs

# Confluence (if SOURCE_TYPE=confluence)
# CONFLUENCE_BASE_URL=https://your-domain.atlassian.net/wiki
# CONFLUENCE_USER_EMAIL=
# CONFLUENCE_API_TOKEN=
# CONFLUENCE_SPACE_KEYS=DOCS,ENG

# GitHub (if SOURCE_TYPE=github)
# GITHUB_REPO_URL=https://github.com/your-org/your-docs
# GITHUB_TOKEN=
# GITHUB_BRANCH=main

# ── Optional ─────────────────────────────────────────────────────────────
# LLM_THINKING_BUDGET=10000

# Slack integration
# SLACK_BOT_TOKEN=xoxb-...
# SLACK_SIGNING_SECRET=

# Stale doc notifications (requires Slack)
# NOTIFICATION_INTERVAL_HOURS=24
# NOTIFICATION_SPACE_FILTER=
